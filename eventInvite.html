<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Event Invite</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Open+Sans&display=swap" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { font-family: 'Open Sans', sans-serif; scroll-behavior: smooth; }
body { background: #f7f5f2; color: #333; line-height: 1.6; }
header {
    background: url('{{background_image_url}}') center/cover no-repeat;
    height: 100vh;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: #fff;
}
header::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.5);
}
header .hero-content {
    position: relative;
    z-index: 1;
    max-width: 800px;
    padding: 0 1rem;
}
header h1 {
    font-family: 'Playfair Display', serif;
    font-size: 3rem;
    margin-bottom: 0.5rem;
}
header p {
    font-size: 1.2rem;
    margin-bottom: 1.5rem;
}
.btn-primary {
    background: #c59d5f;
    color: #fff;
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 50px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
    text-decoration: none;
}
.btn-primary:hover { background: #b0884b; }
section { padding: 4rem 1rem; }
.container { max-width: 1200px; margin: auto; }
h2.section-title {
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    text-align: center;
    margin-bottom: 2rem;
    color: #2c2c2c;
}
.details-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
}
.detail-card {
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    padding: 2rem;
    text-align: center;
}
.detail-card h3 { margin-bottom: 1rem; color: #c59d5f; }
#countdown { display: flex; justify-content: center; gap: 2rem; margin-top: 2rem; }
.count-item { text-align: center; }
.count-item span { display: block; font-size: 2.5rem; font-weight: bold; }
form.rsvp-form {
    background: #fff;
    padding: 2rem;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    max-width: 600px; margin: auto;
}
form.rsvp-form .form-group { margin-bottom: 1.5rem; }
form.rsvp-form label { display: block; margin-bottom: 0.5rem; font-weight: bold; }
form.rsvp-form input,
form.rsvp-form textarea {
    width: 100%; padding: 0.75rem;
    border: 1px solid #ccc; border-radius: 5px;
    font-family: inherit;
}
form.rsvp-form button {
    background: #2c2c2c;
    color: #fff;
    padding: 0.75rem 2rem;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: background 0.3s;
    font-weight: bold;
}
form.rsvp-form button:hover { background: #444; }
footer {
    text-align: center;
    padding: 2rem 1rem;
    background: #2c2c2c;
    color: #fff;
}
@media (max-width: 768px) {
    header h1 { font-size: 2.5rem; }
    #countdown { flex-direction: column; gap: 1rem; }
}
</style>
</head>
<body>
<header>
<div class="hero-content">
    <h1>{{event_title}}</h1>
    <p>{{event_subtitle}}</p>
    <a href="#details" class="btn-primary">See Details</a>
</div>
</header>
<section id="details" class="container">
<h2 class="section-title">Event Details</h2>
<div class="details-grid">
    <div class="detail-card">
    <h3>Date & Time</h3>
    <p>{{event_date}}<br>{{event_time}}</p>
    </div>
    <div class="detail-card">
    <h3>Venue</h3>
    <p>{{event_venue}}<br>{{event_address}}</p>
    </div>
    <div class="detail-card">
    <h3>Dress Code</h3>
    <p>{{dress_code}}</p>
    </div>
</div>
</section>

<!-- Countdown Timer Section -->
<section id="countdown-section" class="container">
  <h2 class="section-title">Countdown to Event</h2>
  <div id="countdown">
    <div class="count-item">
      <span id="days">0</span>
      Days
    </div>
    <div class="count-item">
      <span id="hours">0</span>
      Hours
    </div>
    <div class="count-item">
      <span id="minutes">0</span>
      Minutes
    </div>
    <div class="count-item">
      <span id="seconds">0</span>
      Seconds
    </div>
  </div>
</section>
<!-- End Countdown Timer Section -->

<section id="rsvp">
<h2 class="section-title">RSVP</h2>
<form class="rsvp-form" onsubmit="return handleSubmit(event)">
    <div class="form-group">
    <label for="name">Full Name</label>
    <input type="text" id="name" name="name" required/>
    </div>
    <div class="form-group">
    <label for="email">Email Address</label>
    <input type="email" id="email" name="email" required/>
    </div>
    <div class="form-group">
    <label for="guests">Number of Guests</label>
    <input type="number" id="guests" name="guests" min="1" max="10" required/>
    </div>
    <div class="form-group">
    <label for="message">Message (Optional)</label>
    <textarea id="message" name="message" rows="4"></textarea>
    </div>
    <button type="submit">Submit RSVP</button>
</form>
<div style="text-align:center;margin-top:2rem;">
  <a href="myinvites.html" class="invite-link" style="background:#c59d5f;color:#fff;padding:0.7rem 2rem;border-radius:50px;text-decoration:none;font-weight:500;transition:background 0.2s;">Go to My Invites</a>
</div>
</section>
<footer>
&copy; {{year}} {{event_footer_text}} | Designed by Soham
</footer>


<script>
function handleSubmit(e) {
    e.preventDefault();
    alert('Thank you, ' + document.getElementById('name').value + '! Your RSVP has been received.');
    e.target.reset();
    setTimeout(function() {
      window.location.href = 'myinvites.html';
    }, 1200); // 1.2s delay after alert
    return false;
}

(function() {
    if (document.body.innerHTML.includes('{{event_title}}')) {
        const params = new URLSearchParams(window.location.search);

        const map = {
            '{{event_title}}': params.get('eventTitle') || 'Event Title',
            '{{event_subtitle}}': params.get('eventSubtitle') || '',
            '{{event_date}}': params.get('eventDate') || '',
            '{{event_time}}': params.get('eventTime') || '',
            '{{event_venue}}': params.get('eventVenue') || '',
            '{{event_address}}': params.get('eventAddress') || '',
            '{{dress_code}}': params.get('dressCode') || '',
            '{{year}}': new Date().getFullYear(),
            '{{event_footer_text}}': params.get('eventTitle') || 'Event'
        };

        let bodyHtml = document.body.innerHTML;
        Object.entries(map).forEach(([key, val]) => {
            bodyHtml = bodyHtml.split(key).join(val);
        });
        document.body.innerHTML = bodyHtml;

        // Set header background based on eventType
        const eventType = params.get('eventType');
        const eventImageMap = {
            'Birthday Party': 'https://static.vecteezy.com/system/resources/thumbnails/055/689/637/small_2x/festive-scene-with-pink-and-gold-balloons-photo.jpeg',
            'Wedding Invitation': 'https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRSH_2rK1hYfL5HC-drXs02gzmT3WboY7snXiu7GCiddBwl-q0D',
            'Engagement Ceremony': 'https://img.freepik.com/premium-photo/two-golden-wedding-rings-with-white-roses-gold-background-stock-images-engagement-rings-with-bouquet-white-flowers-image-ai-generated-illustration_1019806-6465.jpg',
            'Conference': 'https://www.jaypeehotels.com/blog/wp-content/uploads/2025/05/Blog-2-scaled.jpg',
            'Business Meeting': 'https://website2021-live-e3e78fbbd3cc41f2847799-7c49c59.divio-media.com/filer_public/e3/31/e331c8bf-23c3-4284-8c85-0ec68bcfa667/meeting_kosten.jpg',
            'Webinar': 'https://www.eventtia.com/wp-content/uploads/2023/05/Whats-the-Difference-Between-Virtual-Events-and-Webinar.webp',
            'Seminar': 'https://media.istockphoto.com/id/1002018094/photo/rear-view-of-business-people-attending-a-seminar-in-board-room.jpg?s=612x612&w=0&k=20&c=oTPHt7HWmTvEcrPy-evfd9_yYFXQzRSw6J7qh0TKp0Q=',
            'Hackathon': 'https://futureagency.fr/wp-content/uploads/2023/05/Junction_2015.jpg',
            'Science Fair': 'https://lammas-gst.org/wp-content/uploads/sites/2/2024/06/bigbangfair-1.jpg',
            'Concert': 'https://img.freepik.com/free-photo/black-silhouettes-music-concert-poster-concept_1194-617147.jpg?semt=ais_hybrid&w=740',
            'Theatre Play': 'https://images.unsplash.com/photo-1503095396549-807759245b35?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dGhlYXRyZXxlbnwwfHwwfHx8MA%3D%3D',
            'Art Exhibition': 'https://thehaatofart.com/wp-content/uploads/2024/10/Upcoming-Exhibition-in-NESCO12_1600x1067-1024x683.jpg'
        };
        const bgUrl = eventImageMap[eventType] || 'https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=1200&q=80';
        document.querySelector('header').style.backgroundImage = `url('${bgUrl}')`;

        // Countdown Timer Logic
        function startCountdown(dateStr, timeStr) {
            if (!dateStr) return;
            // If time is missing, use midnight
            let eventDateTime;
            if (timeStr && /^\d{2}:\d{2}$/.test(timeStr)) {
                eventDateTime = new Date(`${dateStr}T${timeStr}:00`);
            } else {
                eventDateTime = new Date(`${dateStr}T00:00:00`);
            }
            if (isNaN(eventDateTime.getTime())) {
                // Invalid date, set all to 0
                document.getElementById('days').textContent = 0;
                document.getElementById('hours').textContent = 0;
                document.getElementById('minutes').textContent = 0;
                document.getElementById('seconds').textContent = 0;
                return;
            }
            function updateCountdown() {
                const now = new Date();
                const diff = eventDateTime - now;
                if (diff <= 0) {
                    document.getElementById('days').textContent = 0;
                    document.getElementById('hours').textContent = 0;
                    document.getElementById('minutes').textContent = 0;
                    document.getElementById('seconds').textContent = 0;
                    return;
                }
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
                const minutes = Math.floor((diff / (1000 * 60)) % 60);
                const seconds = Math.floor((diff / 1000) % 60);
                document.getElementById('days').textContent = days;
                document.getElementById('hours').textContent = hours;
                document.getElementById('minutes').textContent = minutes;
                document.getElementById('seconds').textContent = seconds;
            }
            updateCountdown();
            setInterval(updateCountdown, 1000);
        }
        startCountdown(params.get('eventDate'), params.get('eventTime'));
    }
})();
</script>
</body>
</html>
